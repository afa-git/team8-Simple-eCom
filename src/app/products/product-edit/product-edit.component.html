<app-header-admin></app-header-admin>
<div class="container">
  <div class="row">
    <div class="small-container">
      <h2 class="title">List Products</h2>
      <br>
      <div class="spinner-border" style="width: 6rem; height: 6rem;"
    role="status" *ngIf="showLoading && !error">
    </div>
    <span class="sr-only" *ngIf="showLoading && !error">Loading... </span>
      <p *ngIf="loadedPosts.length < 1 && !showLoading">No posts available!</p>
      <div class="row">
        <table>
          <tr class="header" *ngIf="loadedPosts.length >= 1">        
            <td style="width:5%; font-weight: bold">No</td>    
            <td style="width:10%; font-weight: bold">Trx ID</td>
            <td style="width:20%; font-weight: bold">Name</td>
            <td style="width:10%; font-weight: bold">Amount</td>
            <td style="width:5%; font-weight: bold">Stocks</td>
            <td style="width:20%; font-weight: bold">Image URL</td>
            <td style="width:10%; font-weight: bold">Category</td>
            <td style="width:20%; font-weight: bold">Description</td>
            <td style="width:10%; font-weight: bold">Action</td>
          </tr>
          <tr *ngFor="let post of loadedPosts; let i= index">        
            <td style="width:5%; font-weight: bold">{{i + 1}}</td>    
            <td style="width:10%; font-weight: bold; color: rgb(143, 94, 94);">{{post.trx_id}}</td>
            <td style="width:20%">{{post.title}}</td>
            <td style="width:10%">{{post.amount}}</td>
            <td style="width:5%">{{post.stocks}}</td>
            <td style="width:20%">{{post.image_url | shorten}}</td>
            <td style="width:10%">{{post.category}}</td>
            <td style="width:20%">{{post.description | shorten}}</td>
            <td style="width:10% ; font-weight: bold; color: rgb(153 46 46);" (click)="onClickData(post)">Edit</td>
          </tr>
        </table>
      </div>
  </div>
  </div>
    <div class="row">
        <div class="col-2">
            <!-- <h3 style="margin: 20px 50px 0px;color: brown">Add New Products</h3> -->
            <div class="formbold-main-wrapper">
                <div class="formbold-form-wrapper">
                    <!-- <form > -->
                  <form #updateForm="ngForm" (ngSubmit)="onUpdatePost(updateForm.value)">
                    <div class="formbold-mb-5">
                        <label for="name" class="formbold-form-label">ID</label>
                        <input
                          type="text"
                          class="form-control"
                          id="id"
                          class="formbold-form-input"
                          required
                          ngModel
                          name="id"
                          [ngModel]="id"
                          [readonly] = "true"
                        />
                      </div>
                    <div class="formbold-mb-5">
                        <label for="trx_id" class="formbold-form-label"> Transaction ID </label>
                        <input
                          type="text"
                          name="trx_id"
                          id="trx_id"
                          class="formbold-form-input"
                          required
                          ngModel
                          name="trx_id"
                          [ngModel]="trx_id"
                          [readonly] = "true"
                        />
                      </div>
                    <div class="formbold-mb-5">
                      <label for="title" class="formbold-form-label"> Product Name</label>
                      <input
                        type="text"
                        name="title"
                        id="title"
                        class="formbold-form-input"
                        required
                        ngModel
                        name="title"
                        [ngModel]="title"
                      />
                    </div>
                    <div class="formbold-mb-5">
                      <label for="amount" class="formbold-form-label"> Amount </label>
                      <input
                        type="text"
                        name="amount"
                        id="amount"
                        class="formbold-form-input"
                        required
                        ngModel
                        name="amount"
                        [ngModel]="amount"
                      />
                    </div>
                    <div class="formbold-mb-5">
                      <label for="stocks" class="formbold-form-label"> Stocks </label>
                      <input
                        type="text"
                        name="stocks"
                        id="stocks"
                        class="formbold-form-input"
                        required
                        ngModel
                        name="stocks"
                        [ngModel]="stocks"
                      />
                    </div>
                    <div class="formbold-mb-5">
                        <label for="image_url" class="formbold-form-label"> Image URL </label>
                        <input
                          type="text"
                          name="image_url"
                          id="image_url"
                          class="formbold-form-input"
                          required
                          ngModel
                          name="image_url"
                          [ngModel]="image_url"
                        />
                    </div>                   
                    <div class="formbold-mb-5">
                    <label for="category" class="formbold-form-label"> Category </label>
                    <input
                          type="text"
                          name="category"
                          id="category"
                          class="formbold-form-input"
                          required
                          ngModel
                          name="category"
                          [ngModel]="category"
                          [readonly] = "true"
                        />
                    </div>
                    <div class="formbold-mb-5" >
                        <label for="description" class="formbold-form-label"> Description </label>
                        <input
                            type="text"
                            name="description"
                            id="description"
                            class="formbold-form-input"
                            required
                            ngModel
                            name="description"
                            [ngModel]="description"
                            style="height:100px"
                        />
                        </div>
                    <div>
                      <!-- <button class="formbold-btn">Add New Product</button> -->
                     <div>
                      
                     </div>
                      <button
                      class="formbold-btn"
                      type="submit"
                      [disabled]="!updateForm.valid"
                    >
                    Edit Product
                  </button>
                   | 
                  <!-- <button
                  [disabled]="loadedPosts.length < 1"
                  class="formbold-btn-danger"
                  (click)="onClearPosts(updateForm.value)"
                >
                Delete Product
              </button> -->
                    </div>
                    
                </form>
                </div>
              </div>
        </div>
    </div>
</div>
